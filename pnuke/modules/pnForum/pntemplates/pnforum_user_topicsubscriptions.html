<!--[*  $Id: pnforum_user_topicsubscriptions.html,v 1.3 2005/08/28 14:04:02 landseer Exp $  *]-->

<!--[ include file=pnforum_user_header.html ]-->

<script type="text/javascript">
    <!--
    function CheckAll() {
      for (var i=0;i<document.tsubscriptions.elements.length;i++) {
        var e = document.tsubscriptions.elements[i];
        if ((e.name != 'allbox') && (e.type=='checkbox'))
        e.checked = document.tsubscriptions.allbox.checked;
      }
    }

    function CheckCheckAll() {
      var TotalBoxes = 0;
      var TotalOn = 0;
      for (var i=0;i<document.tsubscriptions.elements.length;i++) {
        var e = document.tsubscriptions.elements[i];
        if ((e.name != 'allbox') && (e.type=='checkbox')) {
          TotalBoxes++;
          if (e.checked) {
            TotalOn++;
          }
        }
      }
      if (TotalBoxes==TotalOn) {
        document.tsubscriptions.allbox.checked=true;
      } else {
        document.tsubscriptions.allbox.checked=false;
      }
    }

    -->
</script>
<h1><!--[ pnml name='_PNFORUM_MANAGETOPICSUBSCRIPTIONS_HINT' ]--></h1>
<form name="tsubscriptions" action="<!--[ pnmodurl modname=pnForum type=user func=topicsubscriptions ]-->" method="post">
<div>
    <label for="allbox"><!--[pnml name=_PNFORUM_TOGGLEALL]--></label><input name="allbox" id="allbox" onclick="CheckAll();" type="checkbox" value="1" />
    <input type="hidden" name="authid" value="<!--[ pnsecgenauthkey module=pnForum ]-->" />
    <table style="width: 99%; padding: 0; margin: 0, border-collapse: collapse;">
        <thead>
            <tr>
                <th>
                    <!--[ pnml name='_PNFORUM_TOPIC' ]-->
                </th>
                <th>
                    <!--[ pnml name='_PNFORUM_POSTER' ]-->
                </th>
                <th>
                    <!--[ pnml name='_PNFORUM_UNSUBSCRIBE_TOPIC' ]-->
                </th>
            </tr>
        </thead>
        <tbody>
            <!--[ foreach item=subscription from=$subscriptions ]-->
            <tr style="width: 99;">
                <td style="width: 60%">
                    <a href="<!--[ $subscription.last_post_url_anchor ]-->" title="<!--[ $subscription.forum_name ]--> :: <!--[ $subscription.topic_title ]-->"><!--[ $subscription.topic_title|pnvarcensor|pnvarprepfordisplay ]--></a>
                </td>
                <td style="width: 25; text-align: center;">
                    <!--[ $subscription.poster_name|profilelink ]-->
                </td>
                <td style="width: 10%; text-align: center;">
                    <input type="checkbox" onclick="CheckCheckAll();" name="topic_id[]" value="<!--[ $subscription.topic_id ]-->" />
                </td>
            </tr>
            <!--[ foreachelse ]-->
            <tr>
                <td colspan="3" style="text-align: center;">
                    <!--[ pnml name='_PNFORUM_NOTOPICSUBSCRIPTIONSFOUND ]-->
                </td>
            </tr>
            <!--[ /foreach ]-->
        </tbody>
    </table>
    <div style="margin: 2em 0 2em 0;">
        <input type="submit" name="submit" value="<!--[ pnml name='_SUBMIT' ]-->" />
    </div>
</div>
</form>

<!--[ include file=pnforum_user_footer.html ]-->
